.. highlight:: python
    :linenothreshold: 10

******************************************
A3-2.ディスプレイテキストの表示(回答編)
******************************************

回答
========

**Q3-2.M5のディスプレイの真中中央に"こんにちは"という文字を表示してみましょう。**

以下はコード例です。問題文を満たしていれば、これと同じでなくても問題ありません。

ファイルの場所: akari_practice/3_m5_display/answer/a3-2_display_text.py

.. code-block:: python

    #!/usr/bin/env python
    # -*- coding: utf-8 -*-

    """
    Q3-2.M5のディスプレイの真中中央に"こんにちは"という文字を表示してみましょう。
    ヒント1: 文字を表示するにはset_display_text()という関数を使います。
            この関数は引数が多くやや複雑です。
            まずはコメントを読みながら穴埋めをし、コードを実行してみましょう。
            その後、変数を色々変えてどう表示が変わるか試してみましょう。
    ヒント2: 文字と背景の色は、画面の色変更と同じように黒なら'black'、白なら'white'を入れればOKです。
    """

    # M5と通信する際はm5serial_server_pyのライブラリをインポートする。
    from m5serial_server_py.m5serial_server_py import M5SerialServer
    # sleep関数を使うためにtimeのライブラリをインポートする。
    import time


    def main() -> None:
        """
        メイン関数
        """

        # M5SerialServerのインスタンスを作成する。
        m5 = M5SerialServer()

        ### ここから問題  ###
        # textは'こんにちは'
        text = 'こんにちは'
        # 左右表示位置を0-320で座標指定。0が左。-999を入れると真中揃え。999を入れると右揃え
        pos_x = -999
        # 上下表示位置を0-240で座標指定。0が上。-999を入れると中央揃え。999を入れると右揃え
        pos_y = -999
        # 文字サイズは3
        size = 3
        # 文字色は黒
        text_color = 'black'
        # 背景色は白
        back_color = 'white'
        # 背景をリセット
        refresh = True
        # set_display_textを実行
        result = m5.set_display_text(
            text, pos_x, pos_y, size, text_color, back_color, refresh)
        ### ここまで  ###


    if __name__ == '__main__':
        main()


解説
========
**29行目:**

.. code-block:: python

    text = 'こんにちは'

textの引数には、str形式で出力したい文字列を与えます。

|
**31行目:**

.. code-block:: python

    pos_x = -999

左右表示位置は0-320で座標指定ですが、-999を入れると真中揃え、999を入れると右揃えになります。

今回は真中に表示するので、-999を入れます。

|
**33行目:**

.. code-block:: python

    pos_y = -999

上下表示位置は0-240で座標指定ですが、-999を入れると中央揃え、999を入れると右揃えになります。

今回は中央に表示するので、-999を入れます。

|
**37行目:**

.. code-block:: python

    text_color = 'black'

文字の色は黒なので、text_colorは'black'を指定します。

|
**39行目:**

.. code-block:: python

    back_color = 'white'

背景色は白なので、back_colorは'white'を指定します。


実行結果
========
answerディレクトリ内のファイルを実行してみましょう

.. code-block:: bash

    python a3-2_display_text.py

画面に「こんにちは」という文字が表示されます。

|
:doc:`問題 <q3-2>` へ戻る

:doc:`q3-3` へ進む
