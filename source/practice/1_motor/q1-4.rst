.. highlight:: python
   :linenothreshold: 5

******************************
Q1-4.おじぎをする
******************************


問題
========

**Q1-4. 下40°を向く→3秒待つ→上20°を向く→３秒待つ→下40°を向く…という動作を繰り返すコードを書きましょう。**

ファイルの場所: akari_practice/1_motor/question/q1-4_bow.py

.. code-block:: python

   #!/usr/bin/env python
   # -*- coding: utf-8 -*-

   """
   Q1-4. 下40°を向く→3秒待つ→上20°を向く→３秒待つ→下40°を向く…という動作を繰り返すコードを書きましょう。
   ヒント1: while(True):の中に書かれたコードはループします。この中に１周期分の処理を書きましょう。
   ヒント2: 処理を停止するにはtime.sleep(sec)関数を使います。secに秒数を入れるとその時間だけ処理が停止します。
   """

   # モータ制御の際はakari_controllerのライブラリをインポートする
   from akari_controller.akari_controller import AkariController
   # sleep関数を使うためにtimeのライブラリをインポートする。
   import time

   def main(args=None):
      """
      メイン関数
      """

      # AkariControllerのインスタンスを作成する。
      akari = AkariController()
      # 両方のモータ速度を5rad/sに変更する。
      akari.set_profile_velocity({"joint_names": ["pan", "tilt"],
                              "values": [5, 5]})
      ### ここから問題  ###
      while(True):
         """ (処理を書く)"""
         
      ### ここまで  ###


   if __name__ == '__main__':
      main()


ここまで学習した関数を使って、お辞儀を繰り返すコードを書いてみましょう。


ヒント
========
**今回学習する項目1: while()**

43行目でwhile(True)が使われています。

while(条件式)中に含まれる処理は条件式を満たす場合ループします。

今回の条件式はTrueなので、この場合は常に条件を満たすことになりループし続けます。

詳しくは下記を参照してください。

https://www.python.jp/train/loop/index.html

今回は下40°を向く→3秒待つ→上20°を向く→3秒待つまでが１ループなので、これをwhileの中に書きます。

**今回学習する項目2: sleep()**

一定時間処理を停止するためにはsleep(sec)関数を使います。secの数字の秒数分処理を停止します。

30行目でtimeモジュールをimportしています。sleep()はtimeモジュールに含まれるので、下記のように呼び出します。

.. code-block:: python

   # 1秒待つ
   time.sleep(1)


答え合わせ
================
完成したら実行してみましょう

.. code-block:: bash

   python q1-4_bow.py

正しく書けていれば、AKARIのヘッドが下40°を向く→3秒待つ→上20°を向く→３秒待つ→下40°を向く…という動作を繰り返します。

:doc:`回答 <a1-4>` へ進む
